<!DOCTYPE html>
<html>
  <head>
    <link rel="stylesheet" type="text/css" href="../assets/stylesheets/style.css" media="screen">
    <script src="https://code.jquery.com/jquery-1.10.2.min.js"></script>
    <script type="text/javascript" src='http://maps.google.com/maps/api/js?sensor=false&libraries=places'></script>
    <script src="/locationpicker.jquery.js"></script>
    <script src="http://code.highcharts.com/highcharts.js"></script>
    <meta charset="utf-8"/>

     <title>Windy Times</title>
  </head>

  <body>

    <h1>Escolha sua localização</h1>
    <div id="map-canvas" style="width: 500px; height: 300px;"></div>
     <script>
     $('#map-canvas').locationpicker({
        location: {latitude: 46.15242437752303, longitude: 2.7470703125},
        radius: 300,
        inputBinding: {
        latitudeInput: $('#lat'),
        longitudeInput: $('#lng'),
        locationNameInput: $('#address')
     },
        enableAutocomplete: true,
        onchanged: function (currentLocation, radius, isMarkerDropped) {
            // Uncomment line below to show alert on each Location Changed event
            //alert("Location changed. New location (" + currentLocation.latitude + ", " + currentLocation.longitude + ")");
        });
    </script>
    Adress: <input type="text" id="address" style="width: 200px"/>
    Lat.: <input type="text" id="lat"/>
    Long.: <input type="text" id="lng"/>
    <button class="submit">click me</button> 

    <div id="container">
      <script>
      $(function render_chart() {
          $('#container').highcharts({
              chart: {
              },
              title: {
                  text: 'Wind Speed'
              },
              xAxis: {
                  categories: <%= raw @hours %>  
              },
              yAxis: {
                  title: {
                      text: 'Speed'
                  }
              },
              series: [{
                  name: 'Speed',
                  data: <%= @speeds %>
              }]
          });
      });
      </script>
    </div>
  </body>
</html>